trigger: 
  - develop
  
variables:
  name: Azure Pipelines
  vmImageName: 'ubuntu-latest'
  
steps:

- task: ms-devlabs.custom-terraform-tasks.custom-terraform-installer-task.TerraformInstaller@0
  displayName: 'Install Terraform latest'
# - task: ms-devlabs.custom-terraform-tasks.custom-terraform-release-task.TerraformTaskV3@3
#   displayName: 'Terraform : INIT'
#   inputs:
#     provider: gcp
#     workingDirectory: '$(System.DefaultWorkingDirectory)/LinOps/develop'
#     backendServiceGCP: 'terraform-automation'
#     backendGCPBucketName: 'linop-bucket-test'
- task: ms-devlabs.custom-terraform-tasks.custom-terraform-release-task.TerraformTaskV3@3
  displayName: 'Terraform : INIT'
  inputs:
    provider: gcp
    command: plan
    workingDirectory: '$(System.DefaultWorkingDirectory)/LinOps/develop'
    backendServiceGCP: 'terraform-automation'
    backendGCPBucketName: 'linop-bucket-test'
